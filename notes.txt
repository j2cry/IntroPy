К заданию 2:
Про некорректность определения количества слов в строке.
Проблема: при наличии дефиса в слове, программа считает это как два разных слова.


Из собственно грамматических критериев выделения слова известностью в отечественной лингвистике пользуется критерий
цельнооформленности А. И. Смирницкого. Согласно этому критерию сочетание морфем признается одним словом, если
грамматическое оформление при помощи соответствующей служебной морфемы получает все сочетание в целом, а не каждый из
его членов. Например, иван-чай — это одно слово, так как при склонении все сочетание в целом оформляется одной флексией:
иван-чая, иван-чаю, а не *ивана-чая, *ивану-чаю. В противном случае, когда каждый член сочетания получает свое
оформление, — это называется раздельнооформленностью — сочетание признается двумя словами. Например, город-герой —
это два слова, ср. города-героя, городу-герою и т. д.

В.Б. Касевич «Элементы общей лингвистики»